{
    "name": "werewolf",
    "version": "1.0.0",
    "title": "Werewolf",
    "description": "A social deduction game.",
    "agents": [7, 8, 9, 10, 11, 12, 13, 14, 15],
    "configuration": {
        "episodeSteps": { "type": "integer", "default": 1000 },
        "actTimeout": { "type": "number", "default": 3 },
        "runTimeout": { "type": "number", "default": 1800 },
        "seed": { "type": "integer", "description": "Seed to use for episodes" },
        "agents": {
            "type": "array",
            "description": "Configuration for each agent playing the game.",
            "default": [
                { "name": "Player 1", "role": "Werewolf" },
                { "name": "Player 2", "role": "Werewolf" },
                { "name": "Player 3", "role": "Seer" },
                { "name": "Player 4", "role": "Doctor" },
                { "name": "Player 5", "role": "Villager" },
                { "name": "Player 6", "role": "Villager" },
                { "name": "Player 7", "role": "Villager" }
            ],
            "items": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "description": "The unique name of the player. Visible to everyone."
                    },
                    "display_name": {
                        "type": "string",
                        "description": "The display name of the agent. Visible only to the UI but not to players.",
                        "default": ""
                    },
                    "agent_id": {
                        "type": "string",
                        "description": "The id of the agent. Might not be unique since different players might be using the same underlying agent. Not visible to everyone."
                    },
                    "role": {
                        "type": "string",
                        "enum": ["Werewolf", "Doctor", "Seer", "Villager"],
                        "description": "The role assigned to the player."
                    },
                    "thumbnail": {
                        "type": "string",
                        "format": "uri",
                        "description": "A URL for the player's thumbnail image.",
                        "default": ""
                    },
                    "agent_harness_name": {
                        "type": "string",
                        "description": "The name of the agent harness to use.",
                        "default": ""
                    },
                    "llms": {
                        "type": "array",
                        "description": "A list of Language Learning Models to be used by the agent.",
                        "items": {
                            "type": "object",
                            "properties": {
                                "model_name": {
                                    "type": "string",
                                    "description": "The name of the LLM."
                                },
                                "parameters": {
                                    "type": "object",
                                    "description": "Parameters specific to this LLM.",
                                    "default": {}
                                }
                            },
                            "required": ["model_name"]
                        },
                        "default": []
                    }
                },
                "required": ["id", "role"]
            }
        },
        "discussion_protocol": {
            "description": "Configuration for the daytime discussion protocol.",
            "type": "object",
            "properties": {
                "name": {
                    "description": "The name of the discussion protocol to use.",
                    "type": "string",
                    "enum": ["RoundRobinDiscussion", "ParallelDiscussion", "BidDrivenDiscussion"],
                    "default": "RoundRobinDiscussion"
                },
                "params": {
                    "description": "Parameters for the selected discussion protocol.",
                    "type": "object",
                    "default": {},
                    "properties": {}
                }
            },
            "default": { "name": "RoundRobinDiscussion", "params": { "max_rounds": 1 } },
            "oneOf": [
                {
                    "if": { "properties": { "name": { "const": "RoundRobinDiscussion" } } },
                    "then": {
                        "properties": {
                            "params": {
                                "type": "object",
                                "properties": {
                                    "max_rounds": { "description": "Number of full rounds of discussion.", "type": "integer", "minimum": 1, "default": 1 }
                                },
                                "additionalProperties": false
                            }
                        }
                    },
                    "else": false
                },
                {
                    "if": { "properties": { "name": { "const": "ParallelDiscussion" } } },
                    "then": {
                        "properties": {
                            "params": {
                                "type": "object",
                                "properties": {
                                    "ticks": { "description": "Number of ticks where all players can speak simultaneously.", "type": "integer", "minimum": 1, "default": 3 }
                                },
                                "additionalProperties": false
                            }
                        }
                    },
                    "else": false
                },
                {
                    "if": { "properties": { "name": { "const": "BidDrivenDiscussion" } } },
                    "then": {
                        "properties": {
                            "params": {
                                "type": "object"
                            }
                        }
                    }
                }
            ]
        },
        "day_voting_protocol": {
            "description": "Configuration for the daytime voting protocol.",
            "type": "object",
            "properties": {
                "name": {
                    "description": "The name of the voting protocol to use.",
                    "type": "string",
                    "enum": ["SimultaneousMajority", "SequentialVoting"],
                    "default": "SimultaneousMajority"
                },
                "params": {
                    "description": "Parameters for the selected voting protocol.",
                    "type": "object",
                    "default": {},
                    "properties": {}
                }
            },
            "default": { "name": "SimultaneousMajority", "params": {} },
            "oneOf": [
                {
                    "if": { "properties": { "name": { "const": "SimultaneousMajority" } } },
                    "then": {
                        "properties": {
                            "params": { "type": "object", "properties": {}, "additionalProperties": false }
                        }
                    },
                    "else": false
                },
                {
                    "if": { "properties": { "name": { "const": "SequentialVoting" } } },
                    "then": {
                        "properties": {
                            "params": { "type": "object", "properties": {}, "additionalProperties": false }
                        }
                    },
                    "else": false
                }
            ]
        },
        "werewolf_night_vote_protocol": {
            "description": "Configuration for the werewolf night voting protocol.",
            "type": "object",
            "properties": {
                "name": {
                    "description": "The name of the voting protocol to use.",
                    "type": "string",
                    "enum": ["SimultaneousMajority", "SequentialVoting"],
                    "default": "SimultaneousMajority"
                },
                "params": {
                    "description": "Parameters for the selected voting protocol.",
                    "type": "object",
                    "default": {},
                    "properties": {}
                }
            },
            "default": { "name": "SimultaneousMajority", "params": {} },
            "oneOf": [
                {
                    "if": { "properties": { "name": { "const": "SimultaneousMajority" } } },
                    "then": {
                        "properties": {
                            "params": { "type": "object", "properties": {}, "additionalProperties": false }
                        }
                    },
                    "else": false
                },
                {
                    "if": { "properties": { "name": { "const": "SequentialVoting" } } },
                    "then": {
                        "properties": {
                            "params": { "type": "object", "properties": {}, "additionalProperties": false }
                        }
                    },
                    "else": false
                }
            ]
        }
    },
    "observation": {
      "remainingOverageTime": 2
    },
    "action": { "type": "object", "additionalProperties": true },
    "reward": {
        "type": "number",
        "minimum": -1,
        "maximum": 1
    }
}
